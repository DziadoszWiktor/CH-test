import{initializeApp as m}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";import{getFirestore as d,setDoc as p,doc as u}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";import{getStorage as f,ref as g,uploadString as _}from"https://www.gstatic.com/firebasejs/9.6.10/firebase-storage.js";import{o as b,b as h,e,v as n,x as c,y}from"./@vue-e41b397a.js";import{_ as k}from"./index-3d986e8a.js";import"./vue-router-4ae2eba4.js";const v={apiKey:"AIzaSyDpRlGDGuk1JUXi0VhvSpVcJwcCm1Q2ep8",authDomain:"cars-cf954.firebaseapp.com",projectId:"cars-cf954",storageBucket:"cars-cf954.appspot.com",messagingSenderId:"943137422806",appId:"1:943137422806:web:60df9a425e9cf25a26b877"},x=m(v),F=d(x),C={data(){return{car:{make:"",model:"",engine:"",color:""}}},methods:{async submitForm(){let s=(Math.random()+1).toString(36).substring(7);const o=f(),a=g(o,"cars/"+s+".jpg"),l=document.getElementById("pictureFromCamera").src;await _(a,l,"data_url"),await p(u(F,"cars",s),{make:this.car.make,model:this.car.model,engine:this.car.engine,color:this.car.color,path:"cars/"+s+".jpg"}),console.log("The photo has been sent in path cars/"+s),this.car.make="",this.car.model="",this.car.engine="",this.car.color="",document.getElementById("pictureFromCamera").src=""},openCamera(s){const o=s.target.files[0],a=new FileReader;a.onload=()=>{const l=document.getElementById("pictureFromCamera");l.src=a.result},a.readAsDataURL(o)}}},I={class:"container px-5 mx-5"},w={class:"form-group"},z=e("label",{class:"form-label"},"Marka",-1),S={class:"form-group"},V=e("label",{class:"form-label"},"Model",-1),B={class:"form-group"},D=e("label",{class:"form-label"},"Silnik",-1),U={class:"form-group"},j=e("label",{class:"form-label"},"Kolor",-1),A=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),M={class:"form-group"},W=e("label",{for:"cameraFileInput",class:"btn btn-primary"},"Wybierz zdjęcie",-1),E=e("div",{class:"form-group"},[e("img",{id:"pictureFromCamera",class:"img-fluid"})],-1);function R(s,o,a,l,r,i){return b(),h("div",I,[e("form",{id:"form",onSubmit:o[5]||(o[5]=y((...t)=>i.submitForm&&i.submitForm(...t),["prevent"]))},[e("div",w,[z,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>r.car.make=t),placeholder:"Wpisz markę samochodu"},null,512),[[c,r.car.make]])]),e("div",S,[V,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>r.car.model=t),placeholder:"Wpisz model samochodu"},null,512),[[c,r.car.model]])]),e("div",B,[D,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[2]||(o[2]=t=>r.car.engine=t),placeholder:"Wpisz rodzaj silnika"},null,512),[[c,r.car.engine]])]),e("div",U,[j,n(e("input",{type:"text",class:"form-control","onUpdate:modelValue":o[3]||(o[3]=t=>r.car.color=t),placeholder:"Wpisz kolor samochodu"},null,512),[[c,r.car.color]])]),A,e("div",M,[W,e("input",{onChange:o[4]||(o[4]=(...t)=>i.openCamera&&i.openCamera(...t)),style:{display:"none"},id:"cameraFileInput",type:"file",accept:"image/*",capture:"environment"},null,32)]),E],32)])}const N=k(C,[["render",R]]);export{N as default};
